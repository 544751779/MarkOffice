(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6606730e"],{"251d":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Modal",{attrs:{title:t.title_,width:672,"mask-closable":!1},on:{"on-cancel":t.cancel},model:{value:t.isShowModal_,callback:function(e){t.isShowModal_=e},expression:"isShowModal_"}},[i("div",{staticClass:"layer layer-approvedetail"},[i("div",{staticClass:"tablecommondiv"},[i("table",{staticClass:"tablecommon table-approvedetail"},[i("thead",[i("tr",[i("th",[t._v("审批角色")]),i("th",[t._v("审批人姓名")]),i("th",[t._v("审批时间")]),i("th",[t._v("审批结果")]),i("th",[t._v("备注")])])]),i("tbody",t._l(t.list_,function(e,a){return i("tr",{key:a},[i("td",[t._v(t._s(e.step_desc))]),i("td",[t._v(t._s(e.user_name))]),i("td",[t._v(" "+t._s(t.dataFormat(e.step_time))+" ")]),i("td",[0==e.status?[t._v(" 待审批")]:t._e(),1==e.status?[t._v(" 通过 ")]:t._e(),2==e.status?[t._v(" 不通过 ")]:t._e()],2),i("td",[t._v(t._s(e.comment))])])}),0)])])]),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"primary"},on:{click:t.cancel}},[t._v("确定")])],1)])},s=[],n={props:{list:{type:Array},isShowModal:{type:Boolean},title:{default:"带宽复用审批详情",type:String}},data:function(){return{isShowModal_:this.isShowModal,list_:this.list,title_:this.title}},methods:{cancel:function(){this.isShowModal_=!1,this.$emit("emitShowDetail",this.isShowModal_),console.log(this.isShowModal)}},watch:{isShowModal:function(){this.isShowModal_=this.isShowModal},title:function(){this.title_=this.title},list:{handler:function(t,e){this.list_=this.list},deep:!0}}},o=n,r=i("2877"),l=Object(r["a"])(o,a,s,!1,null,null,null);l.options.__file="flow_detail.vue";e["a"]=l.exports},"6fda":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"clearfix",attrs:{id:"main"}},[i("div",{staticClass:"containarea"},[i("h2",{staticClass:"commontit"},[t._v("带宽复用审批")]),i("div",{staticClass:"container"},[i("div",{staticClass:"tabletop clearfix"},[i("div",{staticClass:"tab"},[i("ul",[i("li",{class:0==t.review_status?"current":"",on:{click:function(e){t.review_status=0}}},[i("a",[t._v("未完成审批")])]),i("li",{class:1==t.review_status?"current":"",on:{click:function(e){t.review_status=1}}},[i("a",[t._v("已完成审批")])])])])]),i("div",{staticClass:"tablecommondiv"},[i("table",{class:0==t.review_status?"tablecommon table-bankwidthapproval01":"tablecommon table-bankwidthapproval02"},[i("thead",[i("tr",[i("th",[t._v("资源编号")]),i("th",[t._v("业务类型")]),i("th",[t._v("机房简称")]),i("th",[t._v("楼层")]),t._m(0),t._m(1),i("th",[t._v("设备编号")]),i("th",[t._v("设备端口号")]),t._m(2),t._m(3),t._m(4),t._m(5),0==t.review_status?i("th",[t._v("增加"),i("br"),t._v("带宽")]):t._e(),i("th",[t._v("有效期")]),i("th",[t._v("供应商简称")]),i("th",[t._v("采购合同编号")]),i("th",[t._v("审批进度")]),0==t.review_status?i("th",[t._v("操作")]):t._e()])]),i("tbody",t._l(t.list,function(e,a){return i("tr",{key:a},[i("td",[t._v(t._s(e.code))]),i("td",[t._v(t._s(e.bandwidth_type_name))]),i("td",[t._v(t._s(e.machineroom_name))]),i("td",[t._v(t._s(e.floor_num))]),i("td",[t._v(t._s(e.room_num))]),i("td",[t._v(t._s(e.cabinet_num))]),i("td",[t._v(t._s(e.device_code))]),i("td",[t._v(t._s(e.device_port))]),i("td",[t._v(t._s(e.port_standard))]),i("td",[t._v(t._s(e.port_speed))]),i("td",[t._v(t._s(e.used_bandwidth))]),i("td",[t._v(t._s(e.valid_bandwidth))]),0==t.review_status?i("td",[t._v(" "+t._s(e.reset_reused_bandwidth)+" ")]):t._e(),i("td",[t._v(t._s(t.dataFormat(e.expire_time)))]),i("td",[t._v(t._s(e.supplier_name)+" ")]),i("td",[t._v(t._s(e.code_contract)+" ")]),i("td",[0==t.review_status?i("a",{on:{click:function(i){t.showFlowDetail(e)}}},[t._v("审批中")]):t._e(),1==t.review_status?i("a",{on:{click:function(i){t.showFlowDetail(e)}}},[t._v("已审批")]):t._e()]),0==t.review_status?i("td",[1==e.action_reject?i("a",{staticClass:"alink",on:{click:function(i){t.pass(e)}}},[t._v(" 同意  ")]):t._e(),1==e.action_approve?i("a",{staticClass:"alink",on:{click:function(i){t.showNoPass(e)}}},[t._v("不同意")]):t._e()]):t._e()])}),0)])]),i("div",{staticClass:"tablebottom"},[i("div",{staticClass:"pagewrap"},[i("Page",{attrs:{total:t.listCount,"show-sizer":"","page-size":t.pagination.pagerow,"show-total":"","show-elevator":"",current:t.pagination.pageno},on:{"update:pageSize":function(e){t.$set(t.pagination,"pagerow",e)},"update:current":function(e){t.$set(t.pagination,"pageno",e)},"on-change":t.init,"on-page-size-change":t.pageSizeChange}})],1)])])]),i("flowdetail",{attrs:{isShowModal:t.isShowDetail,list:t.flowDetailList},on:{emitShowDetail:t.emitShowDetail}}),i("flownopass",{attrs:{isShowModal:t.isShowNoPass},on:{emitText:t.emitText}})],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("th",[t._v("房间"),i("br"),t._v("编号")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("th",[t._v("机柜"),i("br"),t._v("编号")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("th",[t._v("接口"),i("br"),t._v("标准")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("th",[t._v("端口"),i("br"),t._v("速率")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("th",[t._v("已用"),i("br"),t._v("带宽")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("th",[t._v("可用"),i("br"),t._v("带宽")])}],n=(i("96cf"),i("3b8d")),o=(i("cadf"),i("551c"),i("097d"),i("494c")),r=i("251d"),l=i("8edb"),c=new o["a"],_={components:{flowdetail:r["a"],flownopass:l["a"]},data:function(){return{list:[],listCount:0,isShowDetail:!1,isShowNoPass:!1,flowDetailList:[],pagination:{pagerow:this.$store.state.pagination.pagerow,pageno:this.$store.state.pagination.pageno},ip_type:[],review_status:0,selectItem:{},RowData:[],text:""}},methods:{init:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.bandwidth("select_review",this.getSelectItem());case 2:e=t.sent,1==e.meta.result?(this.list=e.data,this.listCount=e.meta.total):this.alertError(e.errors[0].abstract_info);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),pass:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!confirm("确定此进行审批通过操作吗？")){t.next=5;break}return t.next=3,c.bandwidth("flow",{id:e.bandwidthreset_id,status:1,desc:""});case 3:i=t.sent,1==i.meta.result?(this.$Message.info("操作成功"),this.init()):(this.alertError(i.errors[0].abstract_info),this.init());case 5:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),emitShowDetail:function(t){this.isShowDetail=t},emitText:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isShowModal){t.next=8;break}if(!confirm("确定此进行审批不通过操作吗？")){t.next=6;break}return t.next=4,c.bandwidth("flow",{id:this.RowData.bandwidthreset_id,status:2,desc:e.text});case 4:i=t.sent,1==i.meta.result?(this.$Message.info("操作成功"),this.isShowNoPass=!1,this.init()):(this.alertError(i.errors[0].abstract_info),this.init());case 6:t.next=9;break;case 8:this.isShowNoPass=e.isShowModal;case 9:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),pageSizeChange:function(t){this.pagination.pagerow=t,this.init()},getSelectItem:function(){return{pageno:this.pagination.pageno,pagerow:this.pagination.pagerow,review_status:this.review_status}},showNoPass:function(t){this.RowData=t,this.isShowNoPass=!0},showFlowDetail:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.bandwidth("flow_detail",{id:e.bandwidthreset_id});case 2:i=t.sent,1==i.meta.result?(this.isShowDetail=!0,this.flowDetailList=i.data):this.alertError(i.errors[0].abstract_info);case 4:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},created:function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.init();case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),watch:{review_status:function(){this.init()}}},h=_,u=i("2877"),d=Object(u["a"])(h,a,s,!1,null,null,null);d.options.__file="flow_bandwidth.vue";e["default"]=d.exports},"8edb":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Modal",{attrs:{title:"不通过",width:422,"mask-closable":!1},on:{"on-cancel":t.cancel},model:{value:t.isShowModal_,callback:function(e){t.isShowModal_=e},expression:"isShowModal_"}},[i("div",{staticClass:"layer layer-nopass"},[i("h5",[t._v("请填写审批不通过原因")]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"reason",domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})]),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{size:"default"},on:{click:t.cancel}},[t._v("取消")]),i("Button",{attrs:{type:"primary",size:"default"},on:{click:function(e){t.submit()}}},[t._v("  提交 ")])],1)])},s=[],n={props:{isShowModal:{type:Boolean}},data:function(){return{isShowModal_:this.isShowModal,text:"",list_:this.list}},methods:{cancel:function(){this.isShowModal_=!1,this.text="",this.$emit("emitText",{isShowModal:this.isShowModal_,text:this.text})},submit:function(){this.$emit("emitText",{isShowModal:this.isShowModal_,text:this.text})}},watch:{isShowModal:function(){this.isShowModal_=this.isShowModal,this.text=""}}},o=n,r=i("2877"),l=Object(r["a"])(o,a,s,!1,null,null,null);l.options.__file="flow_nopass.vue";e["a"]=l.exports}}]);