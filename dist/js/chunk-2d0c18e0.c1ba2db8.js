(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c18e0"],{4718:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clearfix",attrs:{id:"main"}},[a("div",{staticClass:"containarea"},[a("h2",{staticClass:"commontit"},[t._v(t._s(t.$store.state.pageInfo.crumbName))]),a("div",{staticClass:"container"},[a("div",{staticClass:"tabletop clearfix"},[a("div",{staticClass:"search clientmag clearfix"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectItem.name,expression:" selectItem.name "}],staticClass:"formtxt w5",attrs:{type:"text",placeholder:"输入客户名称关键词"},domProps:{value:t.selectItem.name},on:{input:function(e){e.target.composing||t.$set(t.selectItem,"name",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectItem.code,expression:" selectItem.code "}],staticClass:"formtxt w4",attrs:{type:"text",placeholder:"输入客户编号"},domProps:{value:t.selectItem.code},on:{input:function(e){e.target.composing||t.$set(t.selectItem,"code",e.target.value)}}}),a("a",{staticClass:"btn",on:{click:function(e){t.init()}}},[t._v("搜索")])])]),a("div",{staticClass:"tablecommondiv"},[a("table",{staticClass:"tablecommon table-clientmag"},[t._m(0),a("tbody",t._l(t.list,function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.code))]),a("td",[t._v(t._s(e.short_name))]),a("td",[t._v(t._s(e.tax_num))]),a("td",[t._v(t._s(e.address))]),a("td",[t._v(t._s(e.contact))]),a("td",[t._v(" "+t._s(e.mobile)+" (手机号码) "),a("br"),t._v(" "+t._s(e.telephone)+" (座机) ")]),a("td",[t._v(t._s(e.bank_name)+" (开户行) "),a("br"),t._v(" "+t._s(e.bank_account)+" (账号) ")]),a("td",[0==e.num_refer?a("a",{staticClass:"alink",on:{click:function(a){t.del(e)}}},[t._v("删除")]):t._e(),0==e.num_refer?a("a",{staticClass:"alink",on:{click:function(a){t.editShow(e)}}},[t._v("编辑")]):t._e()])])}),0)])]),a("div",{staticClass:"tablebottom"},[a("div",{staticClass:"btns"},[a("a",{staticClass:"btn",on:{click:t.addShow}},[t._v("创建新客户")])]),a("div",{staticClass:"pagewrap"},[a("Page",{attrs:{total:t.listCount,"show-sizer":"","page-size":t.pagination.pagerow,"show-total":"","show-elevator":"",current:t.pagination.pageno},on:{"update:pageSize":function(e){t.$set(t.pagination,"pagerow",e)},"update:current":function(e){t.$set(t.pagination,"pageno",e)},"on-change":t.init,"on-page-size-change":t.pageSizeChange}})],1)])])]),a("Modal",{attrs:{title:"客户资料维护",width:672,"mask-closable":!1},model:{value:t.isShowModal,callback:function(e){t.isShowModal=e},expression:"isShowModal"}},[a("div",{staticClass:"layer layer-clientdetail"},[a("div",{staticClass:"formlist"},[a("ul",{staticClass:"clearfix"},[a("li",[a("label",[t._v("客户名称：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.RowData.name,expression:"RowData.name"}],attrs:{type:"text"},domProps:{value:t.RowData.name},on:{input:function(e){e.target.composing||t.$set(t.RowData,"name",e.target.value)}}})]),a("li",[a("label",[t._v("客户简称：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.RowData.short_name,expression:"RowData.short_name"}],attrs:{type:"text"},domProps:{value:t.RowData.short_name},on:{input:function(e){e.target.composing||t.$set(t.RowData,"short_name",e.target.value)}}})]),a("li",[a("label",[t._v("客户编号：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.RowData.code,expression:"RowData.code"}],attrs:{type:"text"},domProps:{value:t.RowData.code},on:{input:function(e){e.target.composing||t.$set(t.RowData,"code",e.target.value)}}})]),a("li",[a("label",[t._v("税号：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.RowData.tax_num,expression:"RowData.tax_num"}],attrs:{type:"text"},domProps:{value:t.RowData.tax_num},on:{input:function(e){e.target.composing||t.$set(t.RowData,"tax_num",e.target.value)}}})]),a("li",[a("label",[t._v("客户地址：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.RowData.address,expression:"RowData.address"}],attrs:{type:"text"},domProps:{value:t.RowData.address},on:{input:function(e){e.target.composing||t.$set(t.RowData,"address",e.target.value)}}})]),a("li",[a("label",[t._v("联系人：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.RowData.contact,expression:"RowData.contact"}],attrs:{type:"text"},domProps:{value:t.RowData.contact},on:{input:function(e){e.target.composing||t.$set(t.RowData,"contact",e.target.value)}}})]),a("li",[a("label",[t._v("座机：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.RowData.telephone,expression:"RowData.telephone"}],attrs:{type:"text"},domProps:{value:t.RowData.telephone},on:{input:function(e){e.target.composing||t.$set(t.RowData,"telephone",e.target.value)}}})]),a("li",[a("label",[t._v("手机：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.RowData.mobile,expression:"RowData.mobile"}],attrs:{type:"text"},domProps:{value:t.RowData.mobile},on:{input:function(e){e.target.composing||t.$set(t.RowData,"mobile",e.target.value)}}})]),a("li",[a("label",[t._v("传真：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.RowData.fax,expression:"RowData.fax"}],attrs:{type:"text"},domProps:{value:t.RowData.fax},on:{input:function(e){e.target.composing||t.$set(t.RowData,"fax",e.target.value)}}})]),a("li",[a("label",[t._v("邮编：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.RowData.post_num,expression:"RowData.post_num"}],attrs:{type:"text"},domProps:{value:t.RowData.post_num},on:{input:function(e){e.target.composing||t.$set(t.RowData,"post_num",e.target.value)}}})]),a("li",[a("label",[t._v("开户银行：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.RowData.bank_name,expression:"RowData.bank_name"}],attrs:{type:"text"},domProps:{value:t.RowData.bank_name},on:{input:function(e){e.target.composing||t.$set(t.RowData,"bank_name",e.target.value)}}})]),a("li",[a("label",[t._v("银行账号：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.RowData.bank_account,expression:"RowData.bank_account"}],attrs:{type:"text"},domProps:{value:t.RowData.bank_account},on:{input:function(e){e.target.composing||t.$set(t.RowData,"bank_account",e.target.value)}}})]),a("li",[a("label",[t._v("是否启用：")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.RowData.status,expression:"RowData.status"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.RowData,"status",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("启用")]),a("option",{attrs:{value:"1"}},[t._v("禁用")])])])])])]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"default"},on:{click:t.operCancel}},[t._v("取消")]),a("Button",{attrs:{type:"primary",size:"default"},on:{click:function(e){t.submit()}}},["add"==t.oper?[t._v("保存新增")]:t._e(),"edit"==t.oper?[t._v("保存修改")]:t._e()],2)],1)])],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("客户名称")]),a("th",[t._v("客户编号")]),a("th",[t._v("客户简称")]),a("th",[t._v("税号")]),a("th",[t._v("客户地址")]),a("th",[t._v("联系人")]),a("th",[t._v("联系电话")]),a("th",[t._v("银行账户信息")]),a("th",[t._v("操作")])])])}],s=(a("7f7f"),a("96cf"),a("3b8d")),i=a("494c"),r=new i["a"],l={components:{},data:function(){return{list:[],listCount:0,oper:"add",roleList:[],isShowModal:!1,RowData:{},pagination:{pagerow:this.$store.state.pagination.pagerow,pageno:this.$store.state.pagination.pageno},selectItem:{name:"",code:""}}},methods:{init:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.client("select",this.getSelectItem());case 2:e=t.sent,1==e.meta.result?(this.list=e.data,this.listCount=e.meta.total):this.alertError(e.errors[0].abstract_info),this.operCancel();case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),pageSizeChange:function(t){this.pagination.pagerow=t,this.init()},getSelectItem:function(){return{pageno:this.pagination.pageno,pagerow:this.pagination.pagerow,status:-1,name:this.selectItem.name,code:this.selectItem.code}},clearRowData:function(){this.RowData={code:"",name:"",short_name:"",address:"",mobile:"",telephone:"",fax:"",post_num:"",contact:"",tax_num:"",bank_name:"",bank_account:"",status:"0"}},addShow:function(){this.operCancel(),this.oper="add",this.isShowModal=!0},editShow:function(t){this.operCancel(),this.oper="edit",this.isShowModal=!0,this.RowData=t},operCancel:function(){this.clearRowData(),this.oper="",this.isShowModal=!1},transformRequest:function(){var t=this.RowData;switch(this.oper){case"add":delete t.id;break;case"edit":delete t.num_refer;break}return t.name?t.code?t:(this.$Message.info("编号不能为空"),!1):(this.$Message.info("名称不能为空"),!1)},submit:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.oper,a=this.transformRequest(e),a){t.next=4;break}return t.abrupt("return",!1);case 4:return t.next=6,r.client(e,a);case 6:if(n=t.sent,0!=n.meta.result){t.next=13;break}return this.alertError(n.errors[0].code+" : "+n.errors[0].abstract_info),t.next=11,this.init();case 11:t.next=17;break;case 13:return this.$Message.info("操作成功"),t.next=16,this.init();case 16:this.operCancel();case 17:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),del:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!window.confirm("确定要删除该条纪录吗？")){t.next=6;break}return t.next=3,r.client("del",{id:e.id});case 3:a=t.sent,0==a.meta.result?this.alertError(a.errors[0].code+" : "+a.errors[0].abstract_info):this.$Message.info("操作成功"),this.init();case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},created:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.init();case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},c=l,u=a("2877"),m=Object(u["a"])(c,n,o,!1,null,null,null);m.options.__file="client.vue";e["default"]=m.exports}}]);