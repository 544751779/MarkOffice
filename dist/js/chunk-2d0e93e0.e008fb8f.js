(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e93e0"],{"8d64":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"search resourceIp clearfix"},[a("div",{staticClass:"select select-bandwidth"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectItem.bandwidth_type,expression:"selectItem.bandwidth_type"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.selectItem,"bandwidth_type",e.target.multiple?a:a[0])}}},t._l(t.bandwidth_type,function(e,s){return a("option",{key:s,domProps:{value:e.id}},[t._v("  "+t._s(e.name)+" ")])}),0)]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectItem.cabinet_code,expression:"selectItem.cabinet_code"}],staticClass:"formtxt w3",attrs:{type:"text",placeholder:"输入机柜编号"},domProps:{value:t.selectItem.cabinet_code},on:{input:function(e){e.target.composing||t.$set(t.selectItem,"cabinet_code",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectItem.machineroom,expression:"selectItem.machineroom"}],staticClass:"formtxt w4",attrs:{type:"text",placeholder:"输入机房"},domProps:{value:t.selectItem.machineroom},on:{input:function(e){e.target.composing||t.$set(t.selectItem,"machineroom",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectItem.suppiler_name,expression:"selectItem.suppiler_name"}],staticClass:"formtxt w4",attrs:{type:"text",placeholder:"输入供应商"},domProps:{value:t.selectItem.suppiler_name},on:{input:function(e){e.target.composing||t.$set(t.selectItem,"suppiler_name",e.target.value)}}}),a("a",{staticClass:"btn",on:{click:function(e){t.init()}}},[t._v("搜索")])]),a("div",{staticClass:"tablecommondiv"},[a("table",{staticClass:"tablecommon table-resourceBandwidth"},[a("thead",[a("tr",[a("th",[t._v("资源编号")]),a("th",[t._v("业务类型")]),a("th",[t._v("机房简称")]),a("th",[t._v("楼层")]),t._m(0),t._m(1),a("th",[t._v("设备编号")]),a("th",[t._v("设备端口号")]),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),a("th",[t._v("采购时间")]),a("th",[t._v("有效期")]),a("th",[t._v("供应商简称")]),a("th",[t._v("采购合同编号")]),t.isEdit?a("th",[t._v("操作")]):t._e()])]),a("tbody",t._l(t.list,function(e,s){return a("tr",{key:s},[a("td",[t._v(t._s(e.code))]),a("td",[t._v(t._s(e.bandwidth_type_name))]),a("td",[t._v(t._s(e.machineroom_name))]),a("td",[t._v(t._s(e.floor_num))]),a("td",[t._v(t._s(e.room_num))]),a("td",[t._v(t._s(e.cabinet_num))]),a("td",[t._v(t._s(e.device_num))]),a("td",[t._v(t._s(e.device_port))]),a("td",[t._v(t._s(e.port_standard))]),a("td",[t._v(t._s(e.port_speed))]),a("td",[t._v(t._s(e.used_bandwidth))]),a("td",[t._v(t._s(e.valid_bandwidth))]),a("td",[1==e.is_reused?[t._v("可复用")]:t._e(),0==e.is_reused?[t._v("不可复用")]:t._e()],2),a("td",[t._v(t._s(t.dataFormat(e.sign_time)))]),a("td",[t._v(t._s(t.dataFormat(e.expire_time)))]),a("td",[t._v(t._s(e.supplier_name))]),a("td",[t._v(t._s(e.code_contract))]),t.isEdit?a("td",[1==e.action_apply?a("a",{on:{click:function(a){t.showEdit(e)}}},[t._v("  复用申请 ")]):t._e()]):t._e()])}),0)]),a("div",{staticClass:"tablebottom"},[a("div",{staticClass:"pagewrap"},[a("Page",{attrs:{total:t.listCount,"show-sizer":"","page-size":t.pagination.pagerow,"show-total":"","show-elevator":"",current:t.pagination.pageno},on:{"update:pageSize":function(e){t.$set(t.pagination,"pagerow",e)},"update:current":function(e){t.$set(t.pagination,"pageno",e)},"on-change":t.init,"on-page-size-change":t.pageSizeChange}})],1)])]),a("Modal",{attrs:{title:"带宽资源复用申请",width:672,"mask-closable":!1},on:{"on-cancel":t.operCancel},model:{value:t.isShowModal,callback:function(e){t.isShowModal=e},expression:"isShowModal"}},[a("div",{staticClass:"layer layer-bandwidthapply"},[a("div",{staticClass:"formlist basicinfo"},[a("ul",{staticClass:"clearfix"},[a("li",[a("label",[t._v("机房：")]),a("span",{staticClass:"nowrap"},[t._v("  "+t._s(t.RowData.machineroom_name)+"  ")])]),a("li",[a("label",[t._v("机柜编号：")]),a("span",{staticClass:"nowrap"},[t._v(" "+t._s(t.RowData.cabinet_num))])]),a("li",[a("label",[t._v("供应商：")]),a("span",{staticClass:"nowrap"},[t._v(" "+t._s(t.RowData.supplier_name))])]),a("li",[a("label",[t._v("采购合同编号：")]),a("span",{staticClass:"nowrap"},[t._v(" "+t._s(t.RowData.cabinet_code))])]),a("li",[a("label",[t._v("采购时间：")]),a("span",{staticClass:"nowrap"},[t._v(" "+t._s(t.dataFormat(t.RowData.buy_time)))])]),a("li",[a("label",[t._v("到期时间：")]),a("span",{staticClass:"nowrap"},[t._v(" "+t._s(t.dataFormat(t.RowData.expire_time)))])])])]),a("h5",[a("i",{staticClass:"text-icon iconsmalltit"}),t._v("带宽资源情况")]),a("div",{staticClass:"formlist bandwidth"},[a("ul",{staticClass:"clearfix"},[a("li",[a("label",[t._v("业务类型：")]),a("span",{staticClass:"nowrap"},[t._v(" "+t._s(t.RowData.bandwidth_type_name))])]),a("li",[a("label",[t._v("端口编号：")]),a("span",{staticClass:"nowrap"},[t._v(" "+t._s(t.RowData.device_port))])]),a("li",[a("label",[t._v("端口速率：")]),a("span",{staticClass:"nowrap"},[t._v(" "+t._s(t.RowData.port_speed))])]),a("li",[a("label",[t._v("已用带宽：")]),a("span",{staticClass:"nowrap"},[t._v(" "+t._s(t.RowData.used_bandwidth))])]),a("li",{staticClass:"red"},[a("label",[t._v("可用带宽：")]),a("span",{staticClass:"nowrap"},[t._v(" "+t._s(t.RowData.valid_bandwidth))])])]),a("p",[a("label",{staticClass:"red"},[t._v("计划增加可用带宽：")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.reused_bandwidth,expression:"  reused_bandwidth "}],attrs:{type:"text"},domProps:{value:t.reused_bandwidth},on:{input:function(e){e.target.composing||(t.reused_bandwidth=e.target.value)}}}),t._v("(M)\r\n                ")])])]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"default"},on:{click:t.operCancel}},[t._v("取消")]),a("Button",{attrs:{type:"primary",size:"default"},on:{click:function(e){t.submit()}}},[t._v("\r\n                保存\r\n                ")])],1)])],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[t._v("房间"),a("br"),t._v("编号")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[t._v("机柜"),a("br"),t._v("编号")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[t._v("接口"),a("br"),t._v("标准")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[t._v("端口"),a("br"),t._v("速率")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[t._v("已用"),a("br"),t._v("带宽")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[t._v("可用"),a("br"),t._v("带宽")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",[t._v("带宽"),a("br"),t._v("复用")])}],i=(a("96cf"),a("3b8d")),r=(a("cadf"),a("551c"),a("097d"),a("494c")),o=new r["a"],l={components:{},data:function(){return{list:[],listCount:0,pagination:{pagerow:this.$store.state.pagination.pagerow,pageno:this.$store.state.pagination.pageno},bandwidth_type:[],selectItem:{cabinet_code:"",bandwidth_type:"-1",machineroom:"",suppiler_name:""},isEdit:this.isExistFunction("bandwidth_submit"),isShowModal:!1,RowData:{},reused_bandwidth:""}},methods:{init:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o.resource_bandwidth("select",this.getSelectItem());case 2:e=t.sent,1==e.meta.result?(this.list=e.data,this.listCount=e.meta.total):this.alertError(e.errors[0].abstract_info);case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),submit:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o.resource_bandwidth("edit",{id:this.RowData.id,reused_bandwidth:this.reused_bandwidth});case 2:e=t.sent,1==e.meta.result?this.operCancel():this.alertError(e.errors[0].abstract_info),this.init();case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),operCancel:function(){this.reused_bandwidth="",this.RowData={},this.isShowModal=!1},pageSizeChange:function(t){this.pagination.pagerow=t,this.init()},getSelectItem:function(){return{pageno:this.pagination.pageno,pagerow:this.pagination.pagerow,status:-1,cabinet_code:this.selectItem.cabinet_code,bandwidth_type:this.selectItem.bandwidth_type,machineroom:this.selectItem.machineroom,suppiler_name:this.selectItem.suppiler_name}},showEdit:function(t){this.RowData=t,this.isShowModal=!0}},created:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o.dic("select",{dic_name:"bandwidth_type",status:0,text:""});case 2:e=t.sent,this.bandwidth_type=e.data,this.bandwidth_type.push({id:"-1",name:"全部"}),this.init(),a=this.$store.state.userInfo.functions,console.log(a);case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},c=l,_=a("2877"),d=Object(_["a"])(c,s,n,!1,null,null,null);d.options.__file="bandwidth.vue";e["default"]=d.exports}}]);